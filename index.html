<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BRU WEB Academy | by Ineza Aime Bruno</title>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500&family=Roboto:wght@400;500;700&display=swap">
  
  <!-- Pyodide for real Python execution -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
  
  <style>
    :root {
      --bg: #ffffff;
      --text: #222;
      --gray: #555;
      --lightgray: #f4f4f4;
      --border: #d4d4d4;
      --accent: #04AA6D;     /* W3Schools-like green */
      --accent-dark: #038c5a;
      --editor-bg: #fdfdfd;
      --console-bg: #1e1e1e;
      --console-text: #d4d4d4;
    }

    [data-theme="dark"] {
      --bg: #1a1a1a;
      --text: #e0e0e0;
      --gray: #aaa;
      --lightgray: #2d2d2d;
      --border: #444;
      --editor-bg: #222;
      --console-bg: #0d1117;
      --console-text: #c9d1d9;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    html, body {
      height: 100%;
      font-family: 'Roboto', sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }

    .app {
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      height: 54px;
      background: var(--lightgray);
      border-bottom: 1px solid var(--border);
      padding: 0 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 15px;
      font-weight: 500;
    }

    .brand {
      font-weight: 700;
      color: var(--accent);
    }

    .brand small {
      font-weight: normal;
      color: var(--gray);
      font-size: 12px;
      margin-left: 8px;
    }

    .btn {
      padding: 6px 14px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.12s;
    }

    .btn:hover { background: rgba(0,0,0,0.06); }
    .btn-primary {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }
    .btn-primary:hover { background: var(--accent-dark); }

    .main {
      flex: 1;
      display: flex;
      overflow: hidden;
    }

    .pane {
      display: flex;
      flex-direction: column;
      background: var(--lightgray);
      border-right: 1px solid var(--border);
    }

    #docs { width: 320px; min-width: 280px; }
    #editor-pane { flex: 1; min-width: 500px; background: var(--editor-bg); }
    #ai { width: 380px; min-width: 320px; border-left: 1px solid var(--border); border-right: none; }

    .resizer {
      width: 5px;
      background: var(--border);
      cursor: col-resize;
      transition: background 0.2s;
    }
    .resizer:hover, .resizer:active { background: var(--accent); }

    .pane-header {
      padding: 10px 16px;
      background: var(--lightgray);
      border-bottom: 1px solid var(--border);
      font-size: 13px;
      font-weight: 600;
      color: var(--gray);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .lang-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      padding: 10px 16px;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
    }

    .lang-btn {
      padding: 6px 12px;
      font-size: 12px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
      border-radius: 4px;
      cursor: pointer;
    }

    .lang-btn.active,
    .lang-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(4,170,109,0.08);
    }

    .scroll {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      line-height: 1.6;
      font-size: 14px;
    }

    .scroll h3 { margin-top: 20px; font-size: 18px; color: var(--text); }
    .scroll h4 { margin-top: 15px; font-size: 16px; }
    .scroll ul, .scroll ol { margin-left: 20px; }
    .scroll code { background: var(--lightgray); padding: 2px 4px; border-radius: 3px; }
    .scroll pre { background: var(--lightgray); padding: 12px; border-radius: 4px; overflow-x: auto; }

    #editor {
      flex: 1;
      width: 100%;
      padding: 20px;
      font-family: 'Source Code Pro', monospace;
      font-size: 15px;
      line-height: 1.5;
      background: transparent;
      color: var(--text);
      border: none;
      outline: none;
      resize: none;
      tab-size: 2;
    }

    .preview-area {
      height: 38%;
      border-top: 1px solid var(--border);
      position: relative;
      background: white;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    #console {
      display: none;
      position: absolute;
      inset: 0;
      background: var(--console-bg);
      color: var(--console-text);
      padding: 16px;
      font-family: 'Source Code Pro', monospace;
      font-size: 14px;
      overflow-y: auto;
      white-space: pre-wrap;
    }

    footer {
      height: 34px;
      background: var(--lightgray);
      border-top: 1px solid var(--border);
      padding: 0 16px;
      font-size: 12px;
      color: var(--gray);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    /* Ensure AI iframe fits nicely */
    #ai-iframe {
      flex: 1;
      width: 100%;
      height: 100%;
      border: none;
      background: white; /* Fallback if loading */
    }
  </style>
</head>
<body data-theme="light">

<div class="app">
  <header>
    <div class="brand">
      BRU WEB ACADEMY <small>by Ineza Aime Bruno</small>
    </div>
    <div style="display:flex; gap:10px;">
      <button class="btn" onclick="toggleTheme()">Toggle Dark Mode</button>
      <button class="btn btn-primary" onclick="runCode()">Run</button>
    </div>
  </header>

  <div class="main">
    <div class="pane" id="docs">
      <div class="lang-buttons">
        <button class="lang-btn active" data-lang="html">HTML</button>
        <button class="lang-btn" data-lang="python">Python</button>
        <button class="lang-btn" data-lang="js">JavaScript</button>
        <button class="lang-btn" data-lang="cpp">C++</button>
        <button class="lang-btn" data-lang="sql">SQL</button>
        <button class="lang-btn" data-lang="php">PHP</button>
      </div>
      <div class="pane-header">Reference & Examples</div>
      <div class="scroll" id="docs-content">
        <h3>Welcome to BRU Academy</h3>
        <p>Select a language to see detailed documentation, best practices, and examples.</p>
      </div>
    </div>

    <div class="resizer" id="resize1"></div>

    <div class="pane" id="editor-pane">
      <div class="pane-header">
        <span>Editor — <span id="lang-name">HTML</span></span>
      </div>
      <textarea id="editor" spellcheck="false"></textarea>
      <div class="preview-area">
        <iframe id="preview"></iframe>
        <pre id="console"></pre>
      </div>
    </div>

    <div class="resizer" id="resize2"></div>

    <div class="pane" id="ai">
      <div class="pane-header">BRU AI Assistant</div>
      <iframe id="ai-iframe" src="https://bru-ai.vercel.app/" title="AI Sidekick"></iframe>
    </div>
  </div>

  <footer>
    <span>© 2026 — Crafted with passion by Ineza Aime Bruno</span>
    <span>BRU Core • Always Learning</span>
  </footer>
</div>

<script>
// Expanded content database with a lot more info
const content = {
  html: {
    title: "HTML5: Structure and Semantics",
    text: `
<h3>Introduction to HTML5</h3>
<p>HTML5 is the latest standard for structuring web content. It introduces semantic elements that improve accessibility, SEO, and code readability.</p>

<h4>Key Semantic Elements</h4>
<ul>
  <li><code>&lt;header&gt;</code>: Introductory content or navigation aids.</li>
  <li><code>&lt;nav&gt;</code>: Navigation links.</li>
  <li><code>&lt;main&gt;</code>: Main content of the document.</li>
  <li><code>&lt;article&gt;</code>: Independent, self-contained content.</li>
  <li><code>&lt;section&gt;</code>: Thematic grouping of content.</li>
  <li><code>&lt;aside&gt;</code>: Content indirectly related to the main content.</li>
  <li><code>&lt;footer&gt;</code>: Footer for its nearest sectioning content or root.</li>
</ul>

<h4>Best Practices</h4>
<ol>
  <li>Use semantic tags over generic <code>&lt;div&gt;</code> for better structure.</li>
  <li>Always include <code>&lt;!DOCTYPE html&gt;</code> to trigger standards mode.</li>
  <li>Add meta tags for charset, viewport, and SEO (e.g., <code>&lt;meta name="description" content="..."&gt;</code>).</li>
  <li>Validate your HTML using tools like W3C Validator.</li>
</ol>

<h4>Forms and Input Types</h4>
<p>HTML5 enhances forms with new input types:</p>
<ul>
  <li><code>type="email"</code>, <code>type="url"</code>, <code>type="date"</code>, etc.</li>
  <li>Attributes: <code>required</code>, <code>pattern</code>, <code>placeholder</code>.</li>
</ul>
<pre><code>&lt;form&gt;
  &lt;input type="email" required placeholder="Email"&gt;
  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>

<h4>Multimedia</h4>
<p>Embed audio and video without plugins:</p>
<pre><code>&lt;video src="video.mp4" controls&gt;&lt;/video&gt;</code></pre>

<h4>Accessibility Tips</h4>
<ul>
  <li>Use <code>alt</code> attributes for images.</li>
  <li>Ensure proper heading hierarchy (h1 to h6).</li>
  <li>Add ARIA roles where needed.</li>
</ul>

<p><strong>Bruno's Tip:</strong> Semantic HTML is key to modern web engineering. It makes your code future-proof and easier to maintain.</p>
    `,
    starter: `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My HTML Page</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; background: #f9f9f9; }
    .card { 
      max-width: 500px; 
      margin: auto; 
      padding: 30px; 
      border: 2px solid #04AA6D; 
      border-radius: 8px; 
      background: white;
    }
  </style>
</head>
<body>
  <header>
    <h1>BRU Academy Header</h1>
  </header>
  <main>
    <div class="card">
      <h2>Hello from HTML5</h2>
      <p>Build structured web pages with semantics.</p>
    </div>
  </main>
  <footer>
    <p>© Ineza Aime Bruno</p>
  </footer>
</body>
</html>`
  },

  python: {
    title: "Python 3: Versatile Programming",
    text: `
<h3>Introduction to Python</h3>
<p>Python is a high-level, interpreted language known for its simplicity and readability. It's widely used in web development, data science, automation, AI, and more.</p>

<h4>Core Concepts</h4>
<ul>
  <li><strong>Variables:</strong> Dynamic typing – no need to declare types.</li>
  <li><strong>Functions:</strong> Defined with <code>def</code>, support defaults, *args, **kwargs.</li>
  <li><strong>Control Flow:</strong> if/else, for/while loops, try/except for errors.</li>
</ul>
<pre><code>x = 10
if x > 5:
    print("Greater than 5")</code></pre>

<h4>Data Structures</h4>
<ul>
  <li><strong>Lists:</strong> Mutable sequences – <code>[1, 2, 3]</code>.</li>
  <li><strong>Tuples:</strong> Immutable – <code>(1, 2, 3)</code>.</li>
  <li><strong>Dictionaries:</strong> Key-value pairs – <code>{"key": "value"}</code>.</li>
  <li><strong>Sets:</strong> Unique elements – <code>{1, 2, 3}</code>.</li>
</ul>
<h4>List Comprehensions</h4>
<p>Efficient way to create lists:</p>
<pre><code>squares = [x**2 for x in range(10) if x % 2 == 0]</code></pre>

<h4>Modules and Libraries</h4>
<p>Import standard libraries:</p>
<ul>
  <li><code>import math</code> for mathematical functions.</li>
  <li><code>import random</code> for randomness.</li>
  <li>Third-party: NumPy for arrays, Pandas for data frames.</li>
</ul>

<h4>OOP in Python</h4>
<p>Classes and objects:</p>
<pre><code>class Person:
    def __init__(self, name):
        self.name = name
    
    def greet(self):
        return f"Hello, {self.name}"

p = Person("Bruno")
print(p.greet())</code></pre>

<h4>File Handling</h4>
<p>Read/write files:</p>
<pre><code>with open('file.txt', 'r') as f:
    content = f.read()</code></pre>

<h4>Best Practices</h4>
<ol>
  <li>Follow PEP 8 style guide.</li>
  <li>Use virtual environments (venv).</li>
  <li>Handle exceptions gracefully.</li>
  <li>Write docstrings and comments.</li>
</ol>

<p><strong>Bruno's Tip:</strong> Python's "batteries included" philosophy makes it ideal for rapid development. Focus on readability – code is read more than written.</p>
    `,
    starter: `# Python Example in BRU Academy
import math

def calculate_circle_area(radius):
    return math.pi * radius ** 2

# Example usage
r = 5
area = calculate_circle_area(r)
print(f"The area of a circle with radius {r} is {area:.2f}")

# List comprehension
evens = [x for x in range(10) if x % 2 == 0]
print("Even numbers:", evens)

# Dictionary
person = {"name": "Ineza Aime Bruno", "role": "Engineer"}
print(person)`
  },

  js: {
    title: "JavaScript ES6+: Modern Web Scripting",
    text: `
<h3>Introduction to JavaScript</h3>
<p>JavaScript is the programming language of the web, enabling interactive and dynamic content.</p>

<h4>Variables and Data Types</h4>
<ul>
  <li><code>let</code> and <code>const</code> for block-scoped variables.</li>
  <li>Primitives: string, number, boolean, null, undefined, symbol, bigint.</li>
  <li>Objects: arrays, functions, objects.</li>
</ul>

<h4>Functions</h4>
<p>Arrow functions for concise syntax:</p>
<pre><code>const add = (a, b) => a + b;</code></pre>

<h4>DOM Manipulation</h4>
<p>Interact with HTML:</p>
<pre><code>document.getElementById('id').textContent = 'Hello';</code></pre>

<h4>Async Programming</h4>
<ul>
  <li>Promises: <code>new Promise((resolve, reject) => {...})</code>.</li>
  <li>Async/await: <code>async function fetchData() { await ... }</code>.</li>
</ul>

<h4>Arrays and Methods</h4>
<ul>
  <li><code>map</code>, <code>filter</code>, <code>reduce</code>.</li>
  <li>Destructuring: <code>const [a, b] = [1, 2];</code>.</li>
</ul>
<pre><code>const doubled = [1,2,3].map(x => x*2);</code></pre>

<h4>Modules</h4>
<p>Export/import:</p>
<pre><code>export const func = () => {};
import { func } from './module.js';</code></pre>

<h4>Best Practices</h4>
<ol>
  <li>Use strict mode: <code>'use strict';</code></li>
  <li>Avoid global variables.</li>
  <li>Handle errors with try/catch.</li>
  <li>Use ESLint for linting.</li>
</ol>

<p><strong>Bruno's Tip:</strong> Master async patterns for real-world apps like APIs and user interactions.</p>
    `,
    starter: `// JavaScript Example
console.log('Hello from BRU Academy!');

const numbers = [1, 2, 3, 4, 5];
const evens = numbers.filter(n => n % 2 === 0);
console.log('Even numbers:', evens);

async function fetchData() {
  // Simulated fetch
  return new Promise(resolve => setTimeout(() => resolve('Data loaded'), 1000));
}

fetchData().then(data => console.log(data));`
  },

  cpp: {
    title: "C++: High-Performance Programming",
    text: `
<h3>Introduction to C++</h3>
<p>C++ is a powerful, compiled language for systems, games, and performance-critical apps.</p>

<h4>Basics</h4>
<ul>
  <li>Variables: int, double, char, string (need #include &lt;string&gt;).</li>
  <li>Functions: Return types, parameters.</li>
</ul>
<pre><code>#include &lt;iostream&gt;
int main() {
    std::cout << "Hello";
    return 0;
}</code></pre>

<h4>Control Structures</h4>
<p>If, switch, for, while, do-while.</p>

<h4>OOP</h4>
<ul>
  <li>Classes, objects, inheritance, polymorphism.</li>
  <li>Constructors, destructors.</li>
</ul>
<pre><code>class Person {
public:
    std::string name;
    Person(std::string n) : name(n) {}
};</code></pre>

<h4>Standard Template Library (STL)</h4>
<ul>
  <li>Vectors: <code>std::vector&lt;int&gt; v;</code></li>
  <li>Maps, sets, algorithms.</li>
</ul>

<h4>Pointers and Memory</h4>
<p>Manage with new/delete, smart pointers (unique_ptr, shared_ptr).</p>

<h4>Best Practices</h4>
<ol>
  <li>Use modern C++ (C++11+).</li>
  <li>Avoid raw pointers.</li>
  <li>Compile with warnings (-Wall).</li>
</ol>

<p><strong>Bruno's Tip:</strong> C++ excels in efficiency – understand memory to avoid leaks.</p>
    `,
    starter: `#include <iostream>
#include <vector>

int main() {
    std::cout << "Hello from C++ in BRU Academy!" << std::endl;
    
    std::vector<int> nums = {1, 2, 3};
    for(int n : nums) {
        std::cout << n << " ";
    }
    return 0;
}`
  },

  sql: {
    title: "SQL: Database Querying",
    text: `
<h3>Introduction to SQL</h3>
<p>SQL (Structured Query Language) is used to manage and query relational databases.</p>

<h4>Basic Commands</h4>
<ul>
  <li>SELECT: Retrieve data.</li>
  <li>INSERT, UPDATE, DELETE: Modify data.</li>
  <li>CREATE, ALTER, DROP: Manage structures.</li>
</ul>
<pre><code>SELECT * FROM users WHERE age > 18;</code></pre>

<h4>Joins</h4>
<ul>
  <li>INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN.</li>
</ul>
<pre><code>SELECT u.name, o.product 
FROM users u 
INNER JOIN orders o ON u.id = o.user_id;</code></pre>

<h4>Aggregates</h4>
<ul>
  <li>COUNT, SUM, AVG, MIN, MAX.</li>
  <li>GROUP BY, HAVING.</li>
</ul>

<h4>Subqueries and Indexes</h4>
<p>Use subqueries for complex queries; indexes for performance.</p>

<h4>Best Practices</h4>
<ol>
  <li>Normalize database schema.</li>
  <li>Use prepared statements to prevent SQL injection.</li>
  <li>Optimize queries with EXPLAIN.</li>
</ol>

<p><strong>Bruno's Tip:</strong> SQL is essential for data-driven apps – master joins for real-world use.</p>
    `,
    starter: `-- SQL Example
CREATE TABLE students (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    age INT
);

INSERT INTO students (id, name, age) VALUES (1, 'Bruno', 25);

SELECT * FROM students WHERE age > 20;`
  },

  php: {
    title: "PHP: Server-Side Scripting",
    text: `
<h3>Introduction to PHP</h3>
<p>PHP is a server-side language for web development, powering sites like WordPress.</p>

<h4>Basics</h4>
<ul>
  <li>Embed in HTML: <code>&lt;?php ... ?&gt;</code></li>
  <li>Variables: $var = value;</li>
</ul>
<pre><code>&lt;?php echo "Hello"; ?&gt;</code></pre>

<h4>Control Structures</h4>
<p>If, switch, for, foreach, while.</p>

<h4>Functions</h4>
<pre><code>function add($a, $b) { return $a + $b; }</code></pre>

<h4>Arrays</h4>
<ul>
  <li>Indexed: $arr = [1,2,3];</li>
  <li>Associative: $arr = ['key' => 'value'];</li>
</ul>

<h4>Database Interaction</h4>
<p>Use PDO or mysqli for MySQL.</p>
<pre><code>$pdo = new PDO('mysql:host=localhost;dbname=test', 'user', 'pass');
$stmt = $pdo->query('SELECT * FROM table');</code></pre>

<h4>OOP</h4>
<p>Classes, traits, namespaces.</p>

<h4>Best Practices</h4>
<ol>
  <li>Use Composer for dependencies.</li>
  <li>Sanitize inputs to prevent vulnerabilities.</li>
  <li>Follow PSR standards.</li>
</ol>

<p><strong>Bruno's Tip:</strong> PHP is great for quick web apps – combine with frameworks like Laravel.</p>
    `,
    starter: `<?php
// PHP Example
$name = "Ineza Aime Bruno";
echo "Hello, $name!";

$fruits = ['apple', 'banana', 'cherry'];
foreach ($fruits as $fruit) {
    echo "<br>$fruit";
}

function sum($a, $b) {
    return $a + $b;
}

echo "<br>Sum: " . sum(5, 10);
?>`
  }
};

let currentLang = "html";
let pyodide = null;

async function loadPyodide() {
  if (!pyodide) {
    pyodide = await loadPyodideInstance();
    await pyodide.loadPackage("micropip");
  }
  return pyodide;
}

async function loadPyodideInstance() {
  return await loadPyodide({ indexURL: "https://cdn.jsdelivr.net/pyodide/v0.24.1/full/" });
}

function loadLanguage(lang) {
  currentLang = lang;
  const data = content[lang] || content.html;

  document.getElementById("docs-content").innerHTML = `<h3>${data.title}</h3>${data.text}`;
  document.getElementById("editor").value = data.starter;
  document.getElementById("lang-name").textContent = lang.toUpperCase();

  document.querySelectorAll(".lang-btn").forEach(btn => {
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });

  runCode();
}

function toggleTheme() {
  document.body.dataset.theme = document.body.dataset.theme === "dark" ? "light" : "dark";
}

async function runCode() {
  const code = document.getElementById("editor").value.trim();
  const preview = document.getElementById("preview");
  const consoleEl = document.getElementById("console");

  consoleEl.textContent = "";
  preview.style.display = "none";
  consoleEl.style.display = "none";

  if (currentLang === "html") {
    preview.style.display = "block";
    const doc = preview.contentDocument || preview.contentWindow.document;
    doc.open();
    doc.write(code);
    doc.close();
  } else if (currentLang === "python") {
    consoleEl.style.display = "block";
    consoleEl.textContent = "Running Python...\n";
    try {
      const py = await loadPyodide();
      let output = "";
      py.globals.set("print", (s) => { output += s + "\n"; });
      await py.runPythonAsync(code);
      consoleEl.textContent += output || "Executed successfully (no output).";
    } catch (err) {
      consoleEl.textContent += `Error: ${err.message}`;
    }
  } else if (currentLang === "js") {
    consoleEl.style.display = "block";
    consoleEl.textContent = "JavaScript Output:\n";
    try {
      let output = "";
      const originalConsoleLog = console.log;
      console.log = (...args) => { output += args.join(" ") + "\n"; };
      eval(code);
      console.log = originalConsoleLog;
      consoleEl.textContent += output || "Executed successfully (no output).";
    } catch (err) {
      consoleEl.textContent += `Error: ${err.message}`;
    }
  } else {
    // For other langs: just show code in console as preview
    consoleEl.style.display = "block";
    consoleEl.textContent = `Preview for ${currentLang.toUpperCase()}:\n${code}\n\n(Note: Full execution not supported in browser for this language.)`;
  }
}

// Resizers (same as before)
function makeResizable(resizerId, leftId) {
  const resizer = document.getElementById(resizerId);
  const left = document.getElementById(leftId);

  resizer.onmousedown = e => {
    e.preventDefault();
    const startX = e.clientX;
    const startW = left.offsetWidth;

    const doDrag = e => {
      left.style.width = (startW + e.clientX - startX) + "px";
    };

    const stop = () => {
      document.removeEventListener("mousemove", doDrag);
      document.removeEventListener("mouseup", stop);
    };

    document.addEventListener("mousemove", doDrag);
    document.addEventListener("mouseup", stop);
  };
}

// Editor enhancements (auto-indent, brackets)
document.getElementById("editor").addEventListener("keydown", e => {
  if (e.key === "Tab") {
    e.preventDefault();
    const start = e.target.selectionStart;
    e.target.value = e.target.value.substring(0, start) + "  " + e.target.value.substring(e.target.selectionEnd);
    e.target.selectionStart = e.target.selectionEnd = start + 2;
  } else if (["{", "[", "("].includes(e.key)) {
    e.preventDefault();
    const pairs = { "{": "}", "[": "]", "(": ")" };
    const start = e.target.selectionStart;
    e.target.value = e.target.value.substring(0, start) + e.key + pairs[e.key] + e.target.value.substring(e.target.selectionEnd);
    e.target.selectionStart = e.target.selectionEnd = start + 1;
  }
});

// Init
document.querySelectorAll(".lang-btn").forEach(btn => {
  btn.addEventListener("click", () => loadLanguage(btn.dataset.lang));
});

window.addEventListener("load", () => {
  loadLanguage("html");
  makeResizable("resize1", "docs");
  makeResizable("resize2", "editor-pane");
});
</script>

</body>
</html>
