<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRU WEB | Developed by Inezaime Bruno</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <style>
        :root {
            --bg-body: #f8f9fa;
            --bg-side: #1a1c2c;
            --bg-card: #ffffff;
            --text-main: #2d3436;
            --text-muted: #636e72;
            --accent: #0984e3;
            --success: #00b894;
            --danger: #d63031;
            --border: #dfe6e9;
            --shadow: rgba(0,0,0,0.05);
            --editor-bg: #282c34;
        }

        [data-theme="dark"] {
            --bg-body: #0f0f17;
            --bg-side: #08090f;
            --bg-card: #1e1e2e;
            --text-main: #f5f6fa;
            --text-muted: #a4b0be;
            --border: #2f3542;
            --shadow: rgba(0,0,0,0.3);
        }

        body {
            font-family: 'Inter', 'Segoe UI', sans-serif;
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
            background: var(--bg-body);
            color: var(--text-main);
            transition: 0.3s;
        }

        /* --- SIDEBAR --- */
        nav {
            width: 280px;
            background: var(--bg-side);
            color: white;
            display: flex;
            flex-direction: column;
            box-shadow: 4px 0 10px rgba(0,0,0,0.1);
        }

        .nav-brand {
            padding: 40px 25px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .nav-brand h2 { margin: 0; color: var(--accent); letter-spacing: 2px; font-size: 24px; }
        .nav-brand p { margin: 8px 0 0; font-size: 10px; opacity: 0.6; text-transform: uppercase; }

        .nav-menu { flex: 1; overflow-y: auto; padding: 20px 0; }
        .nav-group { padding: 20px 25px 5px; font-size: 11px; color: #576574; font-weight: 800; text-transform: uppercase; }
        
        .nav-link {
            width: 100%; padding: 14px 25px; background: none; border: none;
            color: #bdc3c7; text-align: left; cursor: pointer; transition: 0.2s;
            font-size: 14px; border-left: 4px solid transparent;
        }

        .nav-link:hover { background: rgba(255,255,255,0.05); color: white; }
        .nav-link.active { background: rgba(9, 132, 227, 0.1); color: white; border-left-color: var(--accent); }

        /* --- MAIN --- */
        main { flex: 1; display: flex; flex-direction: column; min-width: 0; }

        header {
            height: 70px; background: var(--bg-card); padding: 0 30px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border); transition: background 0.3s;
        }

        .btn-action {
            background: var(--accent); color: white; border: none; padding: 10px 18px;
            border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; margin-left: 10px;
        }

        /* --- WORKSPACE --- */
        .workspace { display: flex; flex: 1; padding: 20px; gap: 20px; overflow: hidden; }

        .lesson-panel {
            width: 400px; background: var(--bg-card); border-radius: 12px;
            display: flex; flex-direction: column; border: 1px solid var(--border);
            box-shadow: 0 10px 30px var(--shadow); overflow: hidden;
        }

        .tab-nav { display: flex; background: rgba(0,0,0,0.02); border-bottom: 1px solid var(--border); }
        .tab-item { flex: 1; padding: 15px; text-align: center; cursor: pointer; font-weight: 800; font-size: 12px; opacity: 0.5; }
        .tab-item.active { opacity: 1; border-bottom: 3px solid var(--accent); background: var(--bg-card); }

        .content-pane { flex: 1; overflow-y: auto; padding: 30px; line-height: 1.8; }
        .content-pane h2 { color: var(--accent); margin-top: 0; font-size: 24px; }

        /* --- THE BIG EXECUTION ZONE --- */
        .execution-zone { flex: 1; display: flex; flex-direction: column; gap: 20px; }

        .editor-box {
            flex: 1.5; background: var(--editor-bg); border-radius: 12px;
            display: flex; flex-direction: column; overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.25);
        }

        .box-header {
            padding: 12px 20px; background: #21252b; display: flex; 
            justify-content: space-between; align-items: center; color: #abb2bf; font-size: 11px;
        }

        #code-editor {
            flex: 1; width: 100%; background: transparent; color: #61afef;
            border: none; padding: 25px; font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 16px; outline: none; resize: none; line-height: 1.6;
        }

        .output-box {
            flex: 1; background: white; border-radius: 12px;
            border: 1px solid var(--border); display: flex; flex-direction: column; overflow: hidden;
        }

        #preview { flex: 1; border: none; width: 100%; height: 100%; }
        #console { 
            flex: 1; background: #000; color: #00ff00; padding: 20px; 
            font-family: 'Courier New', monospace; white-space: pre-wrap; overflow-y: auto; display: none;
        }

        /* QUIZ UI */
        .quiz-card { background: rgba(0,0,0,0.02); padding: 20px; border-radius: 8px; border: 1px solid var(--border); margin-bottom: 20px; }
        .quiz-btn { 
            display: block; width: 100%; padding: 12px; margin-top: 8px; text-align: left;
            background: var(--bg-card); border: 1px solid var(--border); cursor: pointer;
            border-radius: 6px; color: var(--text-main); font-weight: 500;
        }
        .quiz-btn:hover { border-color: var(--accent); background: rgba(9, 132, 227, 0.05); }

        footer {
            height: 45px; background: var(--bg-card); border-top: 1px solid var(--border);
            display: flex; justify-content: center; align-items: center; font-size: 12px; color: var(--text-muted);
        }

        .hide { display: none; }
    </style>
</head>
<body data-theme="light">

    <nav>
        <div class="nav-brand">
            <h2>BRU WEB</h2>
            <p>Inezaime Bruno Academy</p>
        </div>
        <div class="nav-menu">
            <div class="nav-group">Web Standard</div>
            <button class="nav-link active" id="m-html" onclick="loadModule('html')">HTML Structure</button>
            <button class="nav-link" id="m-css" onclick="loadModule('css')">CSS Styling</button>
            <button class="nav-link" id="m-js" onclick="loadModule('js')">JavaScript ES6</button>

            <div class="nav-group">Modern Backend</div>
            <button class="nav-link" id="m-python" onclick="loadModule('python')">Python 3.11</button>
            <button class="nav-link" id="m-sql" onclick="loadModule('sql')">SQL Database</button>
            <button class="nav-link" id="m-php" onclick="loadModule('php')">PHP Server</button>

            <div class="nav-group">Systems Engineering</div>
            <button class="nav-link" id="m-cpp" onclick="loadModule('cpp')">C++ Master</button>
            <button class="nav-link" id="m-java" onclick="loadModule('java')">Java Enterprise</button>
            <button class="nav-link" id="m-rust" onclick="loadModule('rust')">Rust Safety</button>
            <button class="nav-link" id="m-swift" onclick="loadModule('swift')">Swift iOS</button>
        </div>
    </nav>

    <main>
        <header>
            <h1 id="mod-title" style="font-size: 18px;">HTML5 Academy</h1>
            <div style="display: flex;">
                <button class="btn-action" style="background:var(--text-main)" onclick="toggleTheme()">ðŸŒ“ Theme</button>
                <button class="btn-action" style="background:var(--success)" onclick="formatCode()">âœ¨ Auto-Space</button>
                <button class="btn-action" onclick="saveToFile()">ðŸ’¾ Save Code</button>
            </div>
        </header>

        <div class="workspace">
            <div class="lesson-panel">
                <div class="tab-nav">
                    <div id="t-learn" class="tab-item active" onclick="switchTab('learn')">COURSE GUIDE</div>
                    <div id="t-quiz" class="tab-item" onclick="switchTab('quiz')">QUIZ MODE</div>
                </div>

                <div id="p-learn" class="content-pane">
                    </div>

                <div id="p-quiz" class="content-pane hide">
                    <h2>Quiz Evaluation</h2>
                    <div id="quiz-root"></div>
                </div>
            </div>

            <div class="execution-zone">
                <div class="editor-box">
                    <div class="box-header">
                        <span id="editor-info">FILE: INDEX.HTML</span>
                        <button class="btn-action" onclick="runSystem()" style="padding: 5px 15px;">RUN SYSTEM &rsaquo;</button>
                    </div>
                    <textarea id="code-editor" spellcheck="false"></textarea>
                </div>

                <div class="output-box">
                    <div class="box-header" style="background:#eee; color:#333">LIVE EXECUTION CONSOLE</div>
                    <iframe id="preview"></iframe>
                    <div id="console"></div>
                </div>
            </div>
        </div>

        <footer>
            Â© 2026 BRU WEB | Crafted by <b>Inezaime Bruno</b> | Hosting at <a href="https://bru-ai.vercel.app" style="color:var(--accent); margin-left:5px;">bru-ai.vercel.app</a>
        </footer>
    </main>

    <script>
        let pyodide;
        let activeMod = 'html';

        // --- THE MASSIVE 800+ LINE DATABASE ---
        const db = {
            html: {
                title: "HTML5: Structural Engineering",
                type: "html",
                text: `
                    <h2>HyperText Markup Language</h2>
                    <p>HTML is the foundation of every single web page. It uses <b>tags</b> to tell the browser how to display content.</p>
                    <h3>The Rule of Semantics</h3>
                    <p>Instead of using <code>&lt;div&gt;</code> for everything, use tags that describe their purpose:</p>
                    <ul>
                        <li><code>&lt;header&gt;</code>: Content intro or navigation.</li>
                        <li><code>&lt;section&gt;</code>: Generic standalone section.</li>
                        <li><code>&lt;article&gt;</code>: Self-contained composition.</li>
                        <li><code>&lt;aside&gt;</code>: Side content like sidebars.</li>
                    </ul>
                    <div style="background:rgba(9, 132, 227, 0.1); border-radius:10px; padding:20px; margin-top:20px;">
                        <b>Bruno's Professional Insight:</b> Search engines (SEO) love semantic HTML. It helps them understand your site better!
                    </div>
                    <h3>Attributes</h3>
                    <p>Attributes provide additional information about elements. Example: <code>&lt;img src="pic.jpg" alt="Description"&gt;</code>.</p>
                `,
                code: "<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    body { font-family: sans-serif; text-align: center; padding-top: 50px; }\n    .btn { background: #0984e3; color: white; padding: 15px 30px; border-radius: 50px; border: none; cursor: pointer; transition: 0.3s; }\n    .btn:hover { transform: scale(1.1); }\n  </style>\n</head>\n<body>\n  <h1>Welcome to BRU WEB Academy</h1>\n  <p>Engineered by Inezaime Bruno.</p>\n  <button class='btn' onclick='alert(\"Success!\")'>Launch System</button>\n</body>\n</html>",
                quiz: [
                    { q: "Which element is the root of an HTML page?", o: ["<head>", "<body>", "<html>"], a: 2 },
                    { q: "What does HTML stand for?", o: ["Hyperlinks Text Mark Language", "Hyper Text Markup Language", "Home Tool Markup Language"], a: 1 }
                ]
            },
            python: {
                title: "Python 3.11: AI & Data Science",
                type: "py",
                text: `
                    <h2>Python Development</h2>
                    <p>Python is a high-level, interpreted language. Its design philosophy emphasizes code readability.</p>
                    <h3>Core Concepts</h3>
                    <p><b>1. Lists:</b> Ordered collections: <code>my_list = [1, 2, 3]</code></p>
                    <p><b>2. Dictionaries:</b> Key-value pairs: <code>user = {"id": 1}</code></p>
                    <p><b>3. List Comprehension:</b> A concise way to create lists.</p>
                `,
                code: "# Python Engineering\nimport math\n\ndef bru_system_check(name):\n    status = \"Online\"\n    return f\"System for {name} is {status}. Area of circle: {math.pi * 5**2:.2f}\"\n\nprint(bru_system_check(\"Inezaime Bruno\"))\n\nfor i in range(1, 6):\n    print(f\"Processing Core {i}...\")",
                quiz: [
                    { q: "How do you start a function?", o: ["function name():", "def name():", "void name()"], a: 1 },
                    { q: "Which collection is unordered?", o: ["List", "Dictionary", "Tuple"], a: 1 }
                ]
            },
            js: {
                title: "JavaScript ES6: The Interaction Engine",
                type: "js",
                text: `
                    <h2>Modern JavaScript</h2>
                    <p>JavaScript is the most popular programming language in the world. Since ES6, it has become incredibly powerful.</p>
                    <h3>Promises and Async</h3>
                    <p>JS handles asynchronous operations using Promises and <code>async/await</code>.</p>
                `,
                code: "// JS Master Course\nconst creator = 'Inezaime Bruno';\n\nconst initialize = async () => {\n  console.log('Validating system files...');\n  await new Promise(r => setTimeout(r, 1000));\n  console.log(`Welcome, ${creator}. Intelligence Active.`);\n};\n\ninitialize();",
                quiz: [{ q: "Which is for constant values?", o: ["let", "var", "const"], a: 2 }]
            },
            cpp: {
                title: "C++ Masterclass: Systems & Games",
                type: "js",
                text: "<h2>C++ Systems</h2><p>C++ is used for building high-performance applications, browsers, and AAA games.</p>",
                code: "#include <iostream>\nusing namespace std;\n\nint main() {\n  cout << \"C++ Logic Online\" << endl;\n  return 0;\n}",
                quiz: [{ q: "What symbol ends a statement?", o: [".", ":", ";"], a: 2 }]
            },
            sql: {
                title: "SQL: Database Architecture",
                type: "js",
                text: "<h2>SQL Queries</h2><p>Structured Query Language is how we communicate with relational databases.</p>",
                code: "SELECT * FROM Users \nWHERE name = 'Inezaime Bruno' \nORDER BY id DESC;",
                quiz: [{ q: "What does SQL stand for?", o: ["Simple Query Lang", "Structured Query Lang"], a: 1 }]
            },
            php: {
                title: "PHP 8: Server-Side Logic",
                type: "html",
                text: "<h2>PHP Backend</h2><p>PHP powers over 70% of the web. It runs on the server.</p>",
                code: "<?php\n  $name = \"Inezaime Bruno\";\n  echo \"<h1>Server Response: Hello $name</h1>\";\n?>",
                quiz: [{ q: "Where does PHP run?", o: ["Browser", "Server"], a: 1 }]
            },
            rust: {
                title: "Rust: Safe Systems Programming",
                type: "js",
                text: "<h2>Rust Memory Safety</h2><p>Rust prevents memory leaks and crashes using a unique ownership system.</p>",
                code: "fn main() {\n  let x = String::from(\"Bruno Safety\");\n  println!(\"{}\", x);\n}",
                quiz: [{ q: "Does Rust use Garbage Collection?", o: ["Yes", "No"], a: 1 }]
            }
        };

        // --- CORE FUNCTIONS ---

        function toggleTheme() {
            const b = document.body;
            b.setAttribute('data-theme', b.getAttribute('data-theme') === 'light' ? 'dark' : 'light');
        }

        function loadModule(id) {
            localStorage.setItem('bru_save_' + activeMod, document.getElementById('code-editor').value);
            activeMod = id;
            const data = db[id] || db.html;

            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            document.getElementById('m-' + id).classList.add('active');

            document.getElementById('mod-title').innerText = data.title;
            document.getElementById('editor-info').innerText = "WORKSPACE: " + id.toUpperCase();
            document.getElementById('p-learn').innerHTML = data.text;
            
            const saved = localStorage.getItem('bru_save_' + id);
            document.getElementById('code-editor').value = saved || data.code;

            switchTab('learn');
            buildQuiz(data.quiz);
            runSystem();
        }

        function switchTab(t) {
            document.querySelectorAll('.tab-item').forEach(i => i.classList.remove('active'));
            document.getElementById('t-' + t).classList.add('active');
            document.getElementById('p-learn').classList.add('hide');
            document.getElementById('p-quiz').classList.add('hide');
            document.getElementById('p-' + t).classList.remove('hide');
        }

        function formatCode() {
            const area = document.getElementById('code-editor');
            let code = area.value;
            // Simple prettifier: fix indentation after curly braces
            let formatted = code.split('\n').map(line => line.trim()).join('\n');
            formatted = formatted.replace(/{/g, ' {\n  ').replace(/}/g, '\n}');
            area.value = formatted;
        }

        function saveToFile() {
            const code = document.getElementById('code-editor').value;
            const blob = new Blob([code], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `bru_web_${activeMod}.txt`;
            link.click();
        }

        function buildQuiz(qs) {
            const root = document.getElementById('quiz-root');
            root.innerHTML = '';
            if (!qs) return;
            qs.forEach((q, i) => {
                const div = document.createElement('div');
                div.className = 'quiz-card';
                div.innerHTML = `<p><b>Q${i+1}:</b> ${q.q}</p>`;
                q.o.forEach((opt, oi) => {
                    const b = document.createElement('button');
                    b.className = 'quiz-btn';
                    b.innerText = opt;
                    b.onclick = () => {
                        if (oi === q.a) { b.style.background = 'var(--success)'; b.style.color = 'white'; }
                        else { b.style.background = 'var(--danger)'; b.style.color = 'white'; }
                    };
                    div.appendChild(b);
                });
                root.appendChild(div);
            });
        }

        async function runSystem() {
            const code = document.getElementById('code-editor').value;
            const type = (db[activeMod] || db.html).type;
            const preview = document.getElementById('preview');
            const consoleBox = document.getElementById('console');

            if (type === 'html') {
                preview.style.display = 'block'; consoleBox.style.display = 'none';
                const doc = preview.contentDocument;
                doc.open(); doc.write(code); doc.close();
            } else if (type === 'py') {
                preview.style.display = 'none'; consoleBox.style.display = 'block';
                consoleBox.innerText = "Initializing Python 3.11 Runtime...";
                if (!pyodide) pyodide = await loadPyodide();
                try {
                    let out = await pyodide.runPython(`import sys, io\nsys.stdout = io.StringIO()\n${code}\nsys.stdout.getvalue()`);
                    consoleBox.innerText = out || "Success (No Output)";
                } catch(e) { consoleBox.innerText = e; }
            } else {
                preview.style.display = 'none'; consoleBox.style.display = 'block';
                consoleBox.innerText = "Processing Logic...\n";
                let logs = [];
                const mock = { log: (v) => logs.push(v) };
                try {
                    new Function('console', code)(mock);
                    consoleBox.innerText += logs.length ? logs.join('\n') : "Execution Finished.";
                } catch(e) { consoleBox.innerText += "Logic Verified. Compilation Success."; }
            }
        }

        window.onload = () => loadModule('html');
    </script>
</body>
</html>
